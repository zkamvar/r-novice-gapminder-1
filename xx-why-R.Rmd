---
layout: page
title: R for reproducible scientific analysis
subtitle: Why use R?
minutes: xx
---

```{r, include=FALSE}
library(ggplot2)
source("tools/chunk-options.R")
gapminder <- read.csv("data/gapminder-FiveYearData.csv", header=TRUE, sep=',')
```

> ### Learning Objectives {.objectives}
>
> * To get a taste of R's powerful visualisation capabilities
> * To get a taste of R's powerful statistical analysis capabilities
> * To show how visualisation and analysis support each other
>

### Introduction to R

Welcome to the R portion of the Software Carpentry workshop. We're going to show you how R and RStudio can help you understand large data sets. We'll also guide your first steps towards using them effectively for your own work.

> #### Installation
> (d/l RStudio)
> (d/l gapminder -- can we include in this repo?}
> install.packages('ggplot2')
> (what else?)
>

Open RStudio, and in [the prompt panel], enter these commands:

```{r}
gapminder <- read.csv("data/gapminder-FiveYearData.csv", header=TRUE, sep=',')
head(gapminder)
```

We have some data about countries, years, "pop", "lifeExp", and "gdpPercap". (The person who created the data set choose those abbreviations for "Population", "Life Expectancy", and "GDP per Capita," respectively.) Let's see if we can get a better handle on it:

```{r lifeExp-vs-gdpPercap-scatter, message=FALSE}
library(ggplot2)
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) + geom_point()
```

In the lower right panel, you should see a graph that RStudio produced in response to your command. What can you tell about this data set from this initial graph?

This first graph suggests a relationship between life expectancy and GDP per capita. How can we test that idea? Continue looking at the graph. Most of the points are in a broad cluster at the bottom that sweeps upward as life expectancy increases, but

  - there are several outliers with very high GDP per capita
  - the shape of the relationship between the two factors isn't clear

Let's try squashing the influence of those high values on the Y axis:

```{r axis-scale}
ggplot(data = gapminder, aes(x = lifeExp, y = gdpPercap)) +
  geom_point() + scale_y_log10()
```
